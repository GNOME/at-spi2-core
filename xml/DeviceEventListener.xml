<?xml version="1.0" encoding="UTF-8"?>
<node xmlns:doc="http://www.freedesktop.org/dbus/1.0/doc.dtd">
  <!--
      org.a11y.atspi.DeviceEventListener:
      @short_description: Legacy interface for keystroke listeners and generation of keyboard/mouse events

        This interface is not supported on Wayland and should not be used for
        new code. See atspi-device.c in libatspi instead.
    -->
  <interface name="org.a11y.atspi.DeviceEventListener">

    <!--
        Version: The version of this interface.

        This property is incremented by one every time a new method, signal, or property
        is added to this interface.
    -->
    <property name="version" type="u" access="read"/>

    <!--
        NotifyEvent:

        @event: The event being generated. This is a struct with the following fields:

        type:

        id:

        hw_code: The hardware keycode.

        modifiers: Event modifiers:

        timestamp:

        eventString: The text being generated by this key press.

        is_text:

        This method call is sent by the device event controller to interested
        listeners when a key is pressed.

        Returns: TRUE if the listener wants to consume the event, FALSE otherwise.
    -->
    <method name="NotifyEvent">
      <arg direction="in" name="event" type="(uiuuisb)"/>
      <annotation name="org.qtproject.QtDBus.QtTypeName.In0" value="QSpiDeviceEvent"/>
      <arg direction="out" type="b"/>
    </method>

    <!--
        KeystrokeListenerRegistered:

        @listener: Information about the listener being registered. This is a
        struct with the following fields:

        busName:

        path: The listener's DBus object path.

        type:

        types:

        keys: This is an array with items containing a keycode, keysym, and a string.
        The last field in the sub-struct is unused.

        mask:

        A substruct for the mode:

          synchronous:

          preemptive:

          global:

        This signal is sent by the device event controller when a listener is
        registered.
    -->
    <signal name="KeystrokeListenerRegistered">
      <arg name="listener" type="(souua(iisi)u(bbb))"/>
    </signal>

    <!--
        KeystrokeListenerDeregistered:

        @listener: Information about the listener. The format of this struct is
        the same as for KeystrokeListenerRegistered.

        This signal is sent by the device event controller when a listener is
        deregistered.
    -->
    <signal name="KeystrokeListenerDeregistered">
      <arg name="listener" type="(souua(iisi)u(bbb))"/>
    </signal>

  </interface>
</node>
